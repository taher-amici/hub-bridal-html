!function(e){e.fn.infinitescroll=function(o,n){function t(){m.debug&&window.console&&console.log.call(console,arguments)}function i(o){for(var n in o)return n.indexOf&&n.indexOf("Selector")>-1&&0===e(o[n]).length?(t("Your "+n+" found no elements."),!1):!0}function r(e){return e.match(v)?e.match(v)[2]:e,0==e.length&&(t("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),h.isInvalidPage=!0),e}function l(){return m.localMode?e(h.container)[0].scrollHeight&&e(h.container)[0].scrollHeight:e(document).height()}function a(){var o=0+l()-(m.localMode?e(h.container).scrollTop():e(h.container).scrollTop()||e(h.container.ownerDocument.body).scrollTop())-e(m.localMode?h.container:window).height();return t("math:",o,h.pixelsFromNavToBottom),o-m.bufferPx<h.pixelsFromNavToBottom}function c(){h.loadingMsg.find("img").hide().parent().find("div").html(m.donetext).animate({opacity:1},5e3,function(){e(this).parent().fadeOut("normal")}),m.errorCallback()}function s(){h.isDuringAjax||h.isInvalidPage||h.isDone||a(m,h)&&e(document).trigger("retrieve.infscr")}function d(){h.isDuringAjax=!0,h.loadingMsg.appendTo(m.loadMsgSelector).show(),e(m.navSelector).hide(),h.currPage++,t("heading into ajax",x),u=e(e(m.contentSelector).is("table")?"<tbody/>":"<div/>"),f=document.createDocumentFragment(),e.get(x,g)}function g(o){if(h.isDone)return c(),!1;var t=e(m.itemSelector,o).children().get();if(0==t.length)return e.event.trigger("ajaxError",[{status:404}]);if(e(m.itemSelector).append(t),x=e(m.nextSelector,o).attr("href"),!x)return c(),!1;if(x=r(x),h.loadingMsg.fadeOut("normal"),m.animate){var i=e(window).scrollTop()+e("#infscr-loading").height()+m.extraScrollPx+"px";e("html,body").animate({scrollTop:i},800,function(){h.isDuringAjax=!1})}n.call(e(m.contentSelector)[0],t),m.animate||(h.isDuringAjax=!1)}e.browser.ie6=e.browser.msie&&e.browser.version<7;var u,f,m=e.extend({},e.infinitescroll.defaults,o),h=e.infinitescroll;if(n=n||function(){},!i(m))return!1;h.container=m.localMode?this:document.documentElement,m.contentSelector=m.contentSelector||this,m.loadMsgSelector=m.loadMsgSelector||m.contentSelector;var v=/(.*?\/\/).*?(\/.*)/,x=e(m.nextSelector).attr("href");return x?(x=r(x),m.localMode&&(e(h.container)[0].scrollTop=0),h.pixelsFromNavToBottom=l()+(h.container==document.documentElement?0:e(h.container).offset().top)-e(m.navSelector).offset().top,h.loadingMsg=e('<div id="infscr-loading" style="text-align: center;"><img alt="Loading..." src="'+m.loadingImg+'" /><div>'+m.loadingText+"</div></div>"),(new Image).src=m.loadingImg,e(document).ajaxError(function(o,n,i){t("Page not found. Self-destructing..."),404==n.status&&(c(),h.isDone=!0,e(m.localMode?this:window).unbind("scroll.infscr"))}),e(m.localMode?this:window).bind("scroll.infscr",s).trigger("scroll.infscr"),e(document).bind("retrieve.infscr",d),this):void t("Navigation selector not found")},e.infinitescroll={defaults:{debug:!1,preload:!1,nextSelector:"div.navigation a:first",loadingImg:"http://www.infinite-scroll.com/loading.gif",loadingText:"<em>Loading the next set of posts...</em>",donetext:"<em>Congratulations, you've reached the end of the internet.</em>",navSelector:"div.navigation",contentSelector:null,loadMsgSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,localMode:!1,bufferPx:40,errorCallback:function(){}},loadingImg:void 0,loadingMsg:void 0,container:void 0,currPage:1,currDOMChunk:null,isDuringAjax:!1,isInvalidPage:!1,isDone:!1}}(jQuery);